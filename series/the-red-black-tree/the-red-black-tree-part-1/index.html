<!DOCTYPE html>
<html lang="en"><meta charset="utf-8"><meta name="generator" content="Hugo 0.97.3" /><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<meta name="color-scheme" content="light dark">
<meta name="supported-color-schemes" content="light dark"><title>The Red-Black Tree&nbsp;&ndash;&nbsp;The Quiescent Current</title><link rel="stylesheet" href="/css/core.min.6794bc167e4ce0026d21831c61e605e88a70ef6cc11b090df06de3ed8be76f69afa57c9dcd7ba7210c777e124e943258.css" integrity="sha384-Z5S8Fn5M4AJtIYMcYeYF6Ipw72zBGwkN8G3j7Yvnb2mvpXydzXunIQx3fhJOlDJY"><meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="The Red-Black Tree" /><body><section id="header">
    <div class="header wrap"><span class="header left-side"><a class="site home" href="/"><span class="site name">The Quiescent Current</span></a></span>
        <span class="header right-side"><div class="nav wrap"><nav class="nav"><a class="nav item" href="/tags/">Tags</a><a class="nav item" href="/posts">Blog</a><a class="nav item" href="/series">Series</a><a class="nav item" href="/languages">Languages</a><a class="nav item" href="/about">About</a></nav></div></span></div><div class="site slogan"><span class="title">Go Far. Go Together.</span></div></section><section id="content"><div class="article-container"><section class="article header">
    <h1 class="article title">The Red-Black Tree</h1><p class="article date">Monday, May 9, 2011</p><div class="notice--info">
      <p>This post is part of the <a href="https://quiescent.us/series/the-red-black-tree/" style="font-weight: bold">The Red-Black Tree</a> series.</p>
    </div></section><article class="article markdown-body"><p><a href="https://bitbucket.org/jwright/cse310-red-black-tree/overview"target="_blank" rel="noopener noreferrer">C++ Source Code</a>

<a href="https://bitbucket.org/jwright/red-black-tree-d"target="_blank" rel="noopener noreferrer">D Source Code</a>
</p>
<p>D provides a number of features that simplify designing software, especially in the embedded environment.  I will show in this 2 part comparison, between C++ and D, that D helps one write <strong>correct code</strong>.  Correct code is something <a href="http://erdani.com/"target="_blank" rel="noopener noreferrer">Andrei Alexandrescu</a>
, stresses heavily as a prominent feature of D.   I use the Red-Black Tree for such a comparison since its complicated enough to make memory management difficult, while retaining real-world application.</p>
<p>C++ makes memory management difficult in practice. Memory management, an incidental complexity of C++, is especially difficult in the presence of exceptions. Our goal is to make a fast, correct data structure, not manage memory.  C++ obfuscates this goal.</p>
<p>There are a few idioms in C++ to help; Resource Acquisition Is Initialization, or RAII for short, states that “…the only code that can be guaranteed to be executed after an <a href="http://en.wikipedia.org/wiki/Exception_handling"target="_blank" rel="noopener noreferrer">exception</a>
 is thrown are the <a href="http://en.wikipedia.org/wiki/Destructor_%28computer_science%29"target="_blank" rel="noopener noreferrer">destructors</a>
 of objects residing on the <a href="http://en.wikipedia.org/wiki/Stack_%28data_structure%29"target="_blank" rel="noopener noreferrer">stack</a>
 (<a href="http://en.wikipedia.org/wiki/Resource_Acquisition_Is_Initialization"target="_blank" rel="noopener noreferrer">Wikipedia</a>
)”. Smart Pointers help achieve this.  The Smart pointer offloads much of this responsibility, hiding the complexity, thereby allowing the programmer to focus solely on the task at hand. I use an idiom I learned from my friend <a href="http://www.chrisanderman.com/"target="_blank" rel="noopener noreferrer">Chris</a>
, to hide all raw pointers.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="cp">#include</span> 
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="cpf">//Smart Class Idiom for RAII in C++</span><span class="cp">
</span></span></span><span class="line"><span class="cl"><span class="cp"></span>    <span class="k">class</span> <span class="nc">SmartClass</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="k">public</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">typedef</span> <span class="n">std</span><span class="o">::</span><span class="n">tr1</span><span class="o">::</span><span class="n">shared_ptr</span> <span class="n">Ptr</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">typedef</span> <span class="n">std</span><span class="o">::</span><span class="n">tr1</span><span class="o">::</span><span class="n">weak_ptr</span> <span class="n">WeakPtr</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">static</span> <span class="n">SmartClass</span><span class="o">::</span><span class="n">Ptr</span> <span class="n">construct</span><span class="p">(</span><span class="n">arguments</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">    	<span class="n">SmartClass</span><span class="o">::</span><span class="n">Ptr</span> <span class="n">c</span><span class="p">(</span><span class="k">new</span> <span class="n">SmartClass</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">    	<span class="n">c</span><span class="o">-&gt;</span><span class="n">self</span> <span class="o">=</span> <span class="n">c</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    	<span class="k">return</span> <span class="n">c</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">        <span class="k">virtual</span> <span class="o">~</span><span class="n">SmartClass</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">    <span class="k">private</span><span class="o">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">SmartClass</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="n">SmartClass</span><span class="o">::</span><span class="n">WeakPtr</span> <span class="n">self</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="p">};</span>
</span></span></code></pre></div><p>This is a very useful pattern for managing memory. The developer is not
required to call delete, the smart pointer will do it automatically. Memory
management is still not automatic, however. The programmer needs to resolve
the smart vs. weak pointer relationship.  While this strong vs. weak is a much
simpler question than determining the full _object lifecycle, _<strong>considerable
effort</strong> is still placed into managing memory. This detracts from our goal,
while simultaneously, unnecessarily increasing our software’s complexity.</p>
<p>Firstly, what is a red-black tree? The <a href="http://en.wikipedia.org/wiki/Red-black_tree"target="_blank" rel="noopener noreferrer">Red-Black tree</a>
 is an interesting data
structure because it provides a <em>balanced</em> binary tree.  There are several
types of self-balancing binary trees available, AVL trees being one. The
Red-Black tree, however, uses a less strict balancing mechanism than the AVL
tree; this makes insertions to a Red-Black tree faster. Deletions are slower
than an AVL tree. The Red-Black tree uses graph coloring to determining
overall balance of the tree.</p>
<p>Balance is an important property of a binary tree to maintain algorithmic
complexity. If there is not a rebalancing scheme in place, a BST can,
depending on what order <em>keys</em> are inserted, fill out as a linked list.
Searching a linked list is O(n) or “linear” time, not the preferable O(log n).</p>
<p><a href="http://scienceblogs.com/goodmath/2009/11/advanced_haskell_data_structur.php"target="_blank" rel="noopener noreferrer"><img  src="http://scienceblogs.com/goodmath/upload/2007/01/unbalanced-trees.jpg"
        alt/></a>
</p>
<p>The Red-Black tree uses graph coloring to maintain balance. Balance guarantee’s O(log n) search performance.</p>
<h3 id="c-insert">C++ Insert</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="kt">void</span> <span class="n">RedBlackTree</span><span class="o">::</span><span class="n">Insert</span><span class="p">(</span><span class="kt">uint32_t</span> <span class="n">key</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="n">RedBlackNode</span><span class="o">::</span><span class="n">Ptr</span> <span class="n">z</span> <span class="o">=</span> <span class="n">RedBlackNode</span><span class="o">::</span><span class="n">construct</span><span class="p">(</span><span class="n">key</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">RedBlackNode</span><span class="o">::</span><span class="n">Ptr</span> <span class="n">x</span> <span class="o">=</span> <span class="n">root</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">RedBlackNode</span><span class="o">::</span><span class="n">Ptr</span> <span class="n">y</span> <span class="o">=</span> <span class="n">nil</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">        <span class="k">while</span><span class="p">(</span><span class="n">x</span> <span class="o">!=</span> <span class="n">nil</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">y</span> <span class="o">=</span> <span class="n">x</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span><span class="p">(</span><span class="n">z</span><span class="o">-&gt;</span><span class="n">Key</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">x</span><span class="o">-&gt;</span><span class="n">Key</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">                <span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="o">-&gt;</span><span class="n">Left</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">            <span class="k">else</span>
</span></span><span class="line"><span class="cl">                <span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="o">-&gt;</span><span class="n">Right</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">        <span class="n">z</span><span class="o">-&gt;</span><span class="n">Parent</span><span class="p">(</span><span class="n">y</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span><span class="p">(</span><span class="n">y</span> <span class="o">==</span> <span class="n">nil</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="n">root</span> <span class="o">=</span> <span class="n">z</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">else</span> <span class="nf">if</span><span class="p">(</span><span class="n">z</span><span class="o">-&gt;</span><span class="n">Key</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">y</span><span class="o">-&gt;</span><span class="n">Key</span><span class="p">())</span>
</span></span><span class="line"><span class="cl">            <span class="n">y</span><span class="o">-&gt;</span><span class="n">Left</span><span class="p">(</span><span class="n">z</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="k">else</span>
</span></span><span class="line"><span class="cl">            <span class="n">y</span><span class="o">-&gt;</span><span class="n">Right</span><span class="p">(</span><span class="n">z</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">z</span><span class="o">-&gt;</span><span class="n">Left</span><span class="p">(</span><span class="n">nil</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">z</span><span class="o">-&gt;</span><span class="n">Right</span><span class="p">(</span><span class="n">nil</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">z</span><span class="o">-&gt;</span><span class="n">Color</span><span class="p">(</span><span class="n">RedBlackNode</span><span class="o">::</span><span class="n">RED</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">Insert_Fixup</span><span class="p">(</span><span class="n">z</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span></code></pre></div><p>There are a few issues with this implementation.  If an exception occurs while inserting a node, the Insert_Fixup() doesn’t get run.  An exception in this code, will not cause a memory, leak, however it will leave the tree in an indeterminate state. Any subsequent insertion into the tree will cause Insert_Fixup() to fail. This is <strong>NOT</strong> correct code.</p>
<h3 id="c-delete">C++ Delete</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-cpp" data-lang="cpp"><span class="line"><span class="cl">    <span class="kt">void</span> <span class="n">RedBlackTree</span><span class="o">::</span><span class="n">Delete</span><span class="p">(</span><span class="kt">uint32_t</span> <span class="n">key</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">        <span class="n">RedBlackNode</span><span class="o">::</span><span class="n">Ptr</span> <span class="n">z</span> <span class="o">=</span> <span class="n">Search</span><span class="p">(</span><span class="n">key</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="n">RedBlackNode</span><span class="o">::</span><span class="n">Ptr</span> <span class="n">x</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span><span class="p">(</span><span class="n">z</span> <span class="o">==</span> <span class="n">nil</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">return</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">        <span class="n">RedBlackNode</span><span class="o">::</span><span class="n">Ptr</span> <span class="n">y</span> <span class="o">=</span> <span class="n">z</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">        <span class="n">RedBlackNode</span><span class="o">::</span><span class="n">color_t</span> <span class="n">original_color</span> <span class="o">=</span> <span class="n">y</span><span class="o">-&gt;</span><span class="n">Color</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span><span class="p">(</span><span class="n">z</span><span class="o">-&gt;</span><span class="n">Left</span><span class="p">()</span> <span class="o">==</span> <span class="n">nil</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">x</span> <span class="o">=</span> <span class="n">z</span><span class="o">-&gt;</span><span class="n">Right</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">            <span class="n">Transplant</span><span class="p">(</span><span class="n">z</span><span class="p">,</span><span class="n">z</span><span class="o">-&gt;</span><span class="n">Right</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">else</span> <span class="nf">if</span><span class="p">(</span><span class="n">z</span><span class="o">-&gt;</span><span class="n">Right</span><span class="p">()</span> <span class="o">==</span> <span class="n">nil</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">x</span> <span class="o">=</span> <span class="n">z</span><span class="o">-&gt;</span><span class="n">Left</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">            <span class="n">Transplant</span><span class="p">(</span><span class="n">z</span><span class="p">,</span><span class="n">z</span><span class="o">-&gt;</span><span class="n">Left</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">else</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">y</span> <span class="o">=</span> <span class="n">Minimum</span><span class="p">(</span><span class="n">z</span><span class="o">-&gt;</span><span class="n">Right</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">            <span class="n">original_color</span> <span class="o">=</span> <span class="n">y</span><span class="o">-&gt;</span><span class="n">Color</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">            <span class="n">x</span> <span class="o">=</span> <span class="n">y</span><span class="o">-&gt;</span><span class="n">Right</span><span class="p">();</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span><span class="p">(</span><span class="n">y</span><span class="o">-&gt;</span><span class="n">Parent</span><span class="p">()</span> <span class="o">==</span> <span class="n">z</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="n">x</span><span class="o">-&gt;</span><span class="n">Parent</span><span class="p">(</span><span class="n">y</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="k">else</span>
</span></span><span class="line"><span class="cl">            <span class="p">{</span>
</span></span><span class="line"><span class="cl">                <span class="n">Transplant</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="n">y</span><span class="o">-&gt;</span><span class="n">Right</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">                <span class="n">y</span><span class="o">-&gt;</span><span class="n">Right</span><span class="p">(</span><span class="n">z</span><span class="o">-&gt;</span><span class="n">Right</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">                <span class="n">y</span><span class="o">-&gt;</span><span class="n">Right</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">Parent</span><span class="p">(</span><span class="n">y</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="p">}</span>
</span></span><span class="line"><span class="cl">            <span class="n">Transplant</span><span class="p">(</span><span class="n">z</span><span class="p">,</span><span class="n">y</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">y</span><span class="o">-&gt;</span><span class="n">Left</span><span class="p">(</span><span class="n">z</span><span class="o">-&gt;</span><span class="n">Left</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">            <span class="n">y</span><span class="o">-&gt;</span><span class="n">Left</span><span class="p">()</span><span class="o">-&gt;</span><span class="n">Parent</span><span class="p">(</span><span class="n">y</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">            <span class="n">y</span><span class="o">-&gt;</span><span class="n">Color</span><span class="p">(</span><span class="n">z</span><span class="o">-&gt;</span><span class="n">Color</span><span class="p">());</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span><span class="p">(</span><span class="n">original_color</span> <span class="o">==</span> <span class="n">RedBlackNode</span><span class="o">::</span><span class="n">BLACK</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="n">Delete_Fixup</span><span class="p">(</span><span class="n">x</span><span class="p">);</span>
</span></span><span class="line"><span class="cl">        <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span></code></pre></div><p>The Smart Pointer pointer idiom really flexes its power here. The most difficult part about the Red-Black Tree implementation is deleting nodes. One needs to be careful not to delete nodes too soon and cause a <a href="http://en.wikipedia.org/wiki/Dangling_pointer"target="_blank" rel="noopener noreferrer"><em>dangling-pointer</em></a>
_ _yet, its important that one does delete the nodes to prevent a leak memory, however as you can see there are no delete calls above. The Smart Pointers handle delete when the node falls out of scope.  This implementation does not leak memory! (See the valgrind scripts for evidence).  That is a powerful statement in C++, and difficult to achieve with manual memory management.</p>
<p>Additionally, smart pointers indirectly offer a very powerful tool: Division of responsibility. The Smart pointers are responsible for managing memory. In the spirit of the <em>Single-Responsibility-Theorem</em>, they only manage memory, and they do it well. So well, that the developer can focus on the algorithm alone, instead of disrupting the flow with extra memory management code.</p>
<h4 id="conclusion">Conclusion</h4>
<p>Excellent! We have a self-balancing BST, that doesn’t leak memory, however is this code correct? No. It is possible, that an exception will leave the tree in a bad state, thereby invalidating the entire structure.  We need a mechanism that provides transactional semantics.  This is difficult in C++, especially due to the <a href="http://en.wikipedia.org/wiki/Exception_handling_syntax#C.2B.2B"target="_blank" rel="noopener noreferrer">lack of a finally statement</a>
.</p>
<p>It’s important to understand that smart pointer’s are not a panacea. They do not solve all memory management issue in C++. There are still artifacts of memory management without our algorithm, detracting from the simplicity of our design.  Without a comprehensive memory solution, we will never lose this incidental complexity.</p>
<p>D provides a number of features that helps one write transactional, <strong>correct</strong> code. One issue, is in C++, exceptions are much of a “bolt-on” feature.  Much as exceptions are pervasive in our daily lives so in D, exceptions are pervasive in the language.  Its naïve to believe that code will not fail, yet this is how exception management in C++ feels. As evidence of this, one may throw an exception from anywhere in D, even in a destructor; C++ cannot do <a href="http://www.parashift.com/c&#43;&#43;-faq-lite/exceptions.html#faq-17.9"target="_blank" rel="noopener noreferrer">this</a>
.</p>
<p>In Part 2, we’ll look at how D’s exception management, garbage collection, and the <a href="http://www.d-programming-language.org/exception-safe.html"target="_blank" rel="noopener noreferrer">scope() statement</a>
 help us write clear, correct code, while lowering incidental complexity.</p></article><section class="article labels"><a class="tag" href=/tags/algorithm/>Algorithm</a><a class="tag" href=/tags/comparison/>comparison</a><a class="tag" href=/tags/data-structure/>Data Structure</a><a class="tag" href=/tags/tree/>Tree</a></section><div class="article share addthis_inline_share_toolbox"></div><script defer src="/js/addthis_widget.min.26acbe1a2ce9f782f6bbf368cc6d28f1d234a8ab8310cbcbb6eb69dcd155f2067db37beaa642aedf370075d14d02d307.js#pubid=ra-1234567890" integrity="sha384-Jqy&#43;Gizp94L2u/NozG0o8dI0qKuDEMvLtutp3NFV8gZ9s3vqpkKu3zcAddFNAtMH"></script>
</div>
<div class="article bottom"><div class="article navigation"><h3 id="series">This series</h3>
    <ol><li><span class="iconfont icon-article"></span><b>The Red-Black Tree</b></li><li><a class="link" href="https://quiescent.us/series/the-red-black-tree/class-invariants-red-black-tree-part-2/"><span class="iconfont icon-article"></span>Class Invariants</a></li><li><a class="link" href="https://quiescent.us/series/the-red-black-tree/d-for-the-c-programmer-red-black-tree-part-3/"><span class="iconfont icon-article"></span>D for the C++ Programmer</a></li></ol></div><section class="article discussion"><div id="disqus_thread"></div>
<script type="application/javascript">
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "codestrokes2" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a></section></div></section><section id="footer"><div class="footer-wrap">
    <p class="copyright">©2021 Jeremy Wright</p>
    <p class="powerby"><span>Powered&nbsp;by&nbsp;</span><a href="https://gohugo.io" 
        target="_blank" rel="noopener noreferrer">Hugo</a><span>&nbsp;&amp;&nbsp;</span><a href="https://themes.gohugo.io/hugo-notepadium/" 
        target="_blank" rel="noopener noreferrer">Notepadium</a></p></div>
</section><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css" integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/&#43;DiW/UqRcLbRjq" crossorigin="anonymous"><script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js" integrity="sha384-y23I5Q6l&#43;B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd&#43;qj&#43;o24G5ZU2zJz" crossorigin="anonymous"></script><script defer src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/contrib/auto-render.min.js" integrity="sha384-kWPLUVMOks5AQFrykwIup5lo0m3iMkkHrD0uJ4H5cjeGihAutqP0yW0J6dpFiVkI" crossorigin="anonymous"
            onload="renderMathInElement(document.body);"></script></body>

</html>